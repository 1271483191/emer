<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Dashboard">
    <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">

    <title>粮食应急保障企业信息统计</title>
    <link rel="icon" type="image/x-icon" href="img/logo.png" />

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <!--external css-->
    <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="assets/css/zabuto_calendar.css">
    <link rel="stylesheet" type="text/css" href="assets/js/gritter/css/jquery.gritter.css" />
    <link rel="stylesheet" type="text/css" href="assets/lineicons/style.css">
    <link href="assets/css/style-responsive.css" rel="stylesheet">

    <link href="assets/css/table-responsive.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/style-responsive.css" rel="stylesheet">

    <script src="assets/js/chart-master/Chart.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<section id="container" >
    <!-- **********************************************************************************************************************************************************
    TOP BAR CONTENT & NOTIFICATIONS
    *********************************************************************************************************************************************************** -->
    <!--header start-->
    <header class="header blue-bg">
        <div class="sidebar-toggle-box">
            <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"> </div>
        </div>
        <!--logo start-->
        <a href="toIndex" class="logo"><b>粮食应急保障企业信息统计</b></a>

        <div class="top-menu">
            <ul class="nav pull-right top-menu">
                <li><a class="logout" href="toLogin">注销</a></li>
            </ul>
        </div>
    </header>
    <!--header end-->

    <!-- **********************************************************************************************************************************************************
    MAIN SIDEBAR MENU
    *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    <aside>
        <div id="sidebar"  class="nav-collapse ">
            <!-- sidebar menu start-->
            <ul class="sidebar-menu" id="nav-accordion">
                <p class="logoname hidden-lg hidden-md " style="font-size: 2rem;color: white;text-align: center;font-weight: bolder">粮食应急保障企业信息统计</p>

                <p class="centered"><a href="profile.html"><img src="assets/img/user.png" class="img-circle" width="60"></a></p>
                <h5 class="centered">云境商务智能研究所</h5>

                <li class="mt">
                    <a  href="toIndex">
                        <i class="fa fa-dashboard"></i>
                        <span style="font-size: 1.5rem">首页</span>
                    </a>
                </li>

                <li class="sub-menu">
                    <a href="companysearch">
                        <i class="fa fa-cogs"></i>
                        <span style="font-size: 1.5rem">统计查询</span>
                    </a>
                </li>
                <li class="sub-menu">
                    <a href="javascript:void(0);" >
                        <i class="fa fa-book"></i>
                        <span style="font-size: 1.5rem">应急供应网点</span>
                    </a>
                    <ul class="sub">
                        <li><a  href="toSupplyStatistics" >供应网点统计</a></li>
                        <li><a  href="toSupplyShow" >全国供应网点列表展示</a></li>

                    </ul>
                </li>
                <li class="sub-menu">
                    <a  href="javascript:void(0);" >
                        <i class="fa fa-tasks"></i>
                        <span style="font-size: 1.5rem">应急配送中心</span>
                    </a>
                    <ul class="sub">
                        <li><a  href="deliver-statistics.html">配送中心统计</a></li>
                        <li><a  href="toDeliverShow">配送中心列表展示</a></li>
                    </ul>
                </li>
                <li class="sub-menu">
                    <a href="javascript:void(0);" >
                        <i class="fa fa-th"></i>
                        <span style="font-size: 1.5rem">应急储运企业</span>
                    </a>
                    <ul class="sub">
                        <li><a  href="sorage-statistics.html">储运企业统计</a></li>
                        <li><a  href="toStoreageShow">储运企业列表展示</a></li>
                    </ul>
                </li>
                <li class="sub-menu">
                    <a  class="active" href="javascript:void(0);" >
                        <i class=" fa fa-bar-chart-o"></i>
                        <span style="font-size: 1.5rem">应急加工企业</span>
                    </a>
                    <ul class="sub">
                        <li><a  href="mechining-statistics.html">加工企业统计</a></li>
                        <li><a  href="toMachineShow">加工企业列表展示</a></li>
                    </ul>
                </li>
                <li class="sub-menu">
                    <a href="javascript:void(0);" >
                        <i class="fa fa-users"></i>
                        <span style="font-size: 1.5rem">权限管理</span>
                    </a>
                    <ul class="sub">
                        <li><a  href="user-admin.html">用户管理</a></li>
                        <li><a  href="role-admin.html">角色管理</a></li>
                        <li><a  href="toJurAdmin">权限管理</a></li>
                    </ul>

                </li>

            </ul>
            <!-- sidebar menu end-->
        </div>
    </aside>
    <!--sidebar end-->

    <!-- **********************************************************************************************************************************************************
    MAIN CONTENT
    *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">

            <div class="row">
                <div class="col-lg-12 main-chart">
                    <h3><i class="fa fa-angle-right"></i>全国供应网点列表展示</h3>
                    <hr>

                    <div class="sear">
                        <h5 style="display: inline">时间查询：</h5><span><br></span>
                        <input type="date" id="time1" value="time1" style="border-radius: 0.9rem">&emsp;至 &emsp;
                        <input type="date" id="time2" value="time2" style="border-radius: 0.9rem">
                        <span><br></span>
                        <button onclick="serach()" class="pull-right searchbutt">查询</button>
                        <script>
                            function serach(){
                                var time1 = $("#time1").val();
                                var time2 = $("#time2").val();
                                console.log(time1 + ":" + time2);
                                if(time1 == "" || time2 == ""){
                                    console.log("选择时间");
                                    alert("请选择正确的时间范围");
                                }else{
                                    var curWwwPath=window.document.location.href;
                                    var pathName=window.document.location.pathname;
                                    var localhostPaht;
                                    var pos = curWwwPath.indexOf(pathName);
                                    localhostPaht = curWwwPath.substring(0,pos);
                                    localhostPaht += "/";

                                    var href = localhostPaht + "toMachineShowByDate?time1=" + time1 + "&time2=" + time2;
                                    //console.log(href);
                                    location.href = href;
                                }
                            }
                        </script>
                    </div>
                    <div class="row mt">
                        <div class="col-lg-12">
                            <div class="content-panel">
                                <section id="no-more-tables1">
                                    <table class="table table-bordered table-striped table-condensed cf" style="color: #5e5e5e">
                                        <thead class="cf">
                                        <tr>
                                            <th>网点编号</th>
                                            <th>网点名称</th>
                                            <th class="numeric">生产状态</th>
                                            <th class="numeric">停用</th>

                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="machine,machineStat : ${machines.getList()}">
                                            <td>
                                                <a  th:text="${machine.getMachineId()}" th:href="@{'/toWebSite2?websiteId='+${machine.getMachineId()}}"></a>
                                            </td>
                                            <td th:text="${companys.get(machineStat.index).getName()}"></td>
                                            <span th:switch="${machine.getState()}">
                                                <td th:case="1">生产中</td>
                                                <td th:case="0">停产</td>
                                            </span>

                                            <span th:switch="${machine.getState()}">
                                                <td th:case="1"><button>停用</button></td>
                                                <td th:case="0">已停产</td>
                                            </span>
                                        </tr>

                                        </tbody>
                                    </table>

                                </section>
                                <div th:switch='${dateMap.get("date")}'>
                                    <div th:case="0" style="font-size: 1.7rem;margin-top: 10px;padding-bottom: 10px;text-align: center" >
                                        <a th:href="@{'/toMachineShow?page='+${machines.getPageNum() - 1}}">上一页</a><span th:text="'&nbsp;&nbsp;第' + ${machines.getPageNum()} + '页&nbsp;'"></span>
                                        <a th:href="@{'/toMachineShow?page='+${machines.getPageNum() + 1}}">下一页</a><br/>
                                    </div>
                                    <div th:case="1" style="font-size: 1.7rem;margin-top: 10px;padding-bottom: 10px;text-align: center" >
                                        <a th:href="@{'/toMachineShowByDate?page='+${machines.getPageNum() - 1} + '&time1=' + ${dateMap.get('time1')} + '&time2=' + ${dateMap.get('time2')}}">上一页</a><span th:text="'&nbsp;&nbsp;第' + ${machines.getPageNum()} + '页&nbsp;'"></span>
                                        <a th:href="@{'/toMachineShowByDate?page='+${machines.getPageNum() + 1} + '&time1=' + ${dateMap.get('time1')} + '&time2=' + ${dateMap.get('time2')}}">下一页</a><br/>
                                    </div>
                                </div>

                            </div><!-- /content-panel -->
                        </div><!-- /col-lg-12 -->
                    </div><!-- /row -->
                    <br>
                </div>
            </div>
        </section>
    </section>



    <!--main content end-->
    <!--footer start-->
    <footer class="site-footer">
        <div class="text-center">
            2020.<a href="http://www.lswz.gov.cn" target="_blank">国家粮食和物质储备局</a>
        </div>
    </footer>
    <!--footer end-->
</section>

<!-- js placed at the end of the document so the pages load faster -->
<script src="assets/js/jquery.js"></script>
<script src="assets/js/jquery-1.8.3.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script class="include" type="text/javascript" src="assets/js/jquery.dcjqaccordion.2.7.js"></script>
<script src="assets/js/jquery.scrollTo.min.js"></script>
<script src="assets/js/jquery.nicescroll.js" type="text/javascript"></script>
<script src="assets/js/jquery.sparkline.js"></script>


<!--common script for all pages-->
<script src="assets/js/common-scripts.js"></script>

<script type="text/javascript" src="assets/js/gritter/js/jquery.gritter.js"></script>
<script type="text/javascript" src="assets/js/gritter-conf.js"></script>

<!--script for this page-->
<script src="assets/js/sparkline-chart.js"></script>
<script src="assets/js/zabuto_calendar.js"></script>

<script type="application/javascript">
    $(document).ready(function () {
        $("#date-popover").popover({html: true, trigger: "manual"});
        $("#date-popover").hide();
        $("#date-popover").click(function (e) {
            $(this).hide();
        });

        $("#my-calendar").zabuto_calendar({
            action: function () {
                return myDateFunction(this.id, false);
            },
            action_nav: function () {
                return myNavFunction(this.id);
            },
            ajax: {
                url: "show_data.php?action=1",
                modal: true
            },
            legend: [
                {type: "text", label: "Special event", badge: "00"},
                {type: "block", label: "Regular event", }
            ]
        });
    });


    function myNavFunction(id) {
        $("#date-popover").hide();
        var nav = $("#" + id).data("navigation");
        var to = $("#" + id).data("to");
        console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    }
</script>
<script>
    var doughnutData = [
        {
            value: 30,
            color:"#1abc9c"
        },
        {
            value : 50,
            color : "#2ecc71"
        },
        {
            value : 100,
            color : "#3498db"
        },
        {
            value : 40,
            color : "#9b59b6"
        },
        {
            value : 120,
            color : "#34495e"
        }

    ];
    var lineChartData = {
        labels : ["","","","","","",""],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                pointColor : "rgba(220,220,220,1)",
                pointStrokeColor : "#fff",
                data : [65,59,90,81,56,55,40]
            },
            {
                fillColor : "rgba(151,187,205,0.5)",
                strokeColor : "rgba(151,187,205,1)",
                pointColor : "rgba(151,187,205,1)",
                pointStrokeColor : "#fff",
                data : [28,48,40,19,96,27,100]
            }
        ]

    };
    var pieData = [
        {
            value: 30,
            color:"#1abc9c"
        },
        {
            value : 50,
            color : "#16a085"
        },
        {
            value : 100,
            color : "#27ae60"
        }

    ];
    var barChartData = {
        labels : ["January","February","March","April","May","June","July"],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [65,59,90,81,56,55,40]
            },
            {
                fillColor : "rgba(151,187,205,0.5)",
                strokeColor : "rgba(151,187,205,1)",
                data : [28,48,40,19,96,27,100]
            }
        ]

    };
    var chartData = [
        {
            value : Math.random(),
            color: "#D97041"
        },
        {
            value : Math.random(),
            color: "#C7604C"
        },
        {
            value : Math.random(),
            color: "#21323D"
        },
        {
            value : Math.random(),
            color: "#9D9B7F"
        },
        {
            value : Math.random(),
            color: "#7D4F6D"
        },
        {
            value : Math.random(),
            color: "#584A5E"
        }
    ];
    var radarChartData = {
        labels : ["","","","","","",""],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                pointColor : "rgba(220,220,220,1)",
                pointStrokeColor : "#fff",
                data : [65,59,90,81,56,55,40]
            },
            {
                fillColor : "rgba(151,187,205,0.5)",
                strokeColor : "rgba(151,187,205,1)",
                pointColor : "rgba(151,187,205,1)",
                pointStrokeColor : "#fff",
                data : [28,48,40,19,96,27,100]
            }
        ]

    };
    new Chart(document.getElementById("doughnut").getContext("2d")).Doughnut(doughnutData);
    new Chart(document.getElementById("line").getContext("2d")).Line(lineChartData);
    new Chart(document.getElementById("radar").getContext("2d")).Radar(radarChartData);
    new Chart(document.getElementById("polarArea").getContext("2d")).PolarArea(chartData);
    new Chart(document.getElementById("bar").getContext("2d")).Bar(barChartData);
    new Chart(document.getElementById("pie").getContext("2d")).Pie(pieData);


</script>




</body>
</html>
